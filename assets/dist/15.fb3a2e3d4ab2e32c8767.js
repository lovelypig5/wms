webpackJsonp([15],{70:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={goodsMenu:["text_goods_state","text_goods_list","text_goods_out","text_goods_in","text_goods_outlist","text_goods_inlist","text_goods_create"],orderMenu:["text_order_list","text_order_create"],select2:{zh:{errorLoading:function(){return"无法载入结果。"},inputTooLong:function(t){var e=t.input.length-t.maximum,r="请删除"+e+"个字符";return r},inputTooShort:function(t){var e=t.minimum-t.input.length,r="请再输入至少"+e+"个字符";return r},loadingMore:function(){return"载入更多结果…"},maximumSelected:function(t){var e="最多只能选择"+t.maximum+"个项目";return e},noResults:function(){return"未找到结果"},searching:function(){return"搜索中…"}}}};e["default"]=r},80:function(t,e,r){t.exports={"default":r(81),__esModule:!0}},81:function(t,e,r){r(82),t.exports=r(85).Object.assign},82:function(t,e,r){var o=r(83);o(o.S+o.F,"Object",{assign:r(98)})},83:function(t,e,r){var o=r(84),n=r(85),i=r(86),s=r(88),a="prototype",d=function(t,e,r){var c,u,l,p=t&d.F,v=t&d.G,f=t&d.S,h=t&d.P,g=t&d.B,m=t&d.W,x=v?n:n[e]||(n[e]={}),b=x[a],y=v?o:f?o[e]:(o[e]||{})[a];v&&(r=e);for(c in r)u=!p&&y&&void 0!==y[c],u&&c in x||(l=u?y[c]:r[c],x[c]=v&&"function"!=typeof y[c]?r[c]:g&&u?i(l,o):m&&y[c]==l?function(t){var e=function(e,r,o){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,r)}return new t(e,r,o)}return t.apply(this,arguments)};return e[a]=t[a],e}(l):h&&"function"==typeof l?i(Function.call,l):l,h&&((x.virtual||(x.virtual={}))[c]=l,t&d.R&&b&&!b[c]&&s(b,c,l)))};d.F=1,d.G=2,d.S=4,d.P=8,d.B=16,d.W=32,d.U=64,d.R=128,t.exports=d},84:function(t,e){var r=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},86:function(t,e,r){var o=r(87);t.exports=function(t,e,r){if(o(t),void 0===e)return t;switch(r){case 1:return function(r){return t.call(e,r)};case 2:return function(r,o){return t.call(e,r,o)};case 3:return function(r,o,n){return t.call(e,r,o,n)}}return function(){return t.apply(e,arguments)}}},87:function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},88:function(t,e,r){var o=r(89),n=r(97);t.exports=r(93)?function(t,e,r){return o.f(t,e,n(1,r))}:function(t,e,r){return t[e]=r,t}},89:function(t,e,r){var o=r(90),n=r(92),i=r(96),s=Object.defineProperty;e.f=r(93)?Object.defineProperty:function(t,e,r){if(o(t),e=i(e,!0),o(r),n)try{return s(t,e,r)}catch(a){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(t[e]=r.value),t}},90:function(t,e,r){var o=r(91);t.exports=function(t){if(!o(t))throw TypeError(t+" is not an object!");return t}},91:function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},92:function(t,e,r){t.exports=!r(93)&&!r(94)(function(){return 7!=Object.defineProperty(r(95)("div"),"a",{get:function(){return 7}}).a})},93:function(t,e,r){t.exports=!r(94)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},94:function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},95:function(t,e,r){var o=r(91),n=r(84).document,i=o(n)&&o(n.createElement);t.exports=function(t){return i?n.createElement(t):{}}},96:function(t,e,r){var o=r(91);t.exports=function(t,e){if(!o(t))return t;var r,n;if(e&&"function"==typeof(r=t.toString)&&!o(n=r.call(t)))return n;if("function"==typeof(r=t.valueOf)&&!o(n=r.call(t)))return n;if(!e&&"function"==typeof(r=t.toString)&&!o(n=r.call(t)))return n;throw TypeError("Can't convert object to primitive value")}},97:function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},98:function(t,e,r){"use strict";var o=r(99),n=r(114),i=r(115),s=r(116),a=r(103),d=Object.assign;t.exports=!d||r(94)(function(){var t={},e={},r=Symbol(),o="abcdefghijklmnopqrst";return t[r]=7,o.split("").forEach(function(t){e[t]=t}),7!=d({},t)[r]||Object.keys(d({},e)).join("")!=o})?function(t,e){for(var r=s(t),d=arguments.length,c=1,u=n.f,l=i.f;d>c;)for(var p,v=a(arguments[c++]),f=u?o(v).concat(u(v)):o(v),h=f.length,g=0;h>g;)l.call(v,p=f[g++])&&(r[p]=v[p]);return r}:d},99:function(t,e,r){var o=r(100),n=r(113);t.exports=Object.keys||function(t){return o(t,n)}},100:function(t,e,r){var o=r(101),n=r(102),i=r(106)(!1),s=r(110)("IE_PROTO");t.exports=function(t,e){var r,a=n(t),d=0,c=[];for(r in a)r!=s&&o(a,r)&&c.push(r);for(;e.length>d;)o(a,r=e[d++])&&(~i(c,r)||c.push(r));return c}},101:function(t,e){var r={}.hasOwnProperty;t.exports=function(t,e){return r.call(t,e)}},102:function(t,e,r){var o=r(103),n=r(105);t.exports=function(t){return o(n(t))}},103:function(t,e,r){var o=r(104);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==o(t)?t.split(""):Object(t)}},104:function(t,e){var r={}.toString;t.exports=function(t){return r.call(t).slice(8,-1)}},105:function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},106:function(t,e,r){var o=r(102),n=r(107),i=r(109);t.exports=function(t){return function(e,r,s){var a,d=o(e),c=n(d.length),u=i(s,c);if(t&&r!=r){for(;c>u;)if(a=d[u++],a!=a)return!0}else for(;c>u;u++)if((t||u in d)&&d[u]===r)return t||u||0;return!t&&-1}}},107:function(t,e,r){var o=r(108),n=Math.min;t.exports=function(t){return t>0?n(o(t),9007199254740991):0}},108:function(t,e){var r=Math.ceil,o=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?o:r)(t)}},109:function(t,e,r){var o=r(108),n=Math.max,i=Math.min;t.exports=function(t,e){return t=o(t),t<0?n(t+e,0):i(t,e)}},110:function(t,e,r){var o=r(111)("keys"),n=r(112);t.exports=function(t){return o[t]||(o[t]=n(t))}},111:function(t,e,r){var o=r(84),n="__core-js_shared__",i=o[n]||(o[n]={});t.exports=function(t){return i[t]||(i[t]={})}},112:function(t,e){var r=0,o=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++r+o).toString(36))}},113:function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},114:function(t,e){e.f=Object.getOwnPropertySymbols},115:function(t,e){e.f={}.propertyIsEnumerable},116:function(t,e,r){var o=r(105);t.exports=function(t){return Object(o(t))}},306:function(t,e,r){var o,n,i={};o=r(307),t.exports=o||{},t.exports.__esModule&&(t.exports=t.exports["default"]);var s="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;n&&(s.template=n),s.computed||(s.computed={}),Object.keys(i).forEach(function(t){var e=i[t];s.computed[t]=function(){return e}})},307:function(t,e,r){(function(t,o){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var i=r(273),s=n(i),a=r(80),d=n(a),c=r(308),u=n(c),l=r(66),p=n(l),v=r(70),f=n(v),h=r(63),g=n(h);r(17);var m=t.extend({template:u["default"],name:"createOrder",data:function(){return{model:{orderId:"",receiveName:"",expressId:"",expressCost:"",goodList:[],price:"",comment:""},good:{id:"",name:"",attr:"",amount:""},attrList:[],loading:{create:!1},add:!1}},ready:function(){var t=this;o(this.$el).find("#productName").select2({placeholder:"请输入商品名称（必填）",language:f["default"].select2[this.lang],ajax:{url:p["default"].searchGood,data:function(t){return{name:t.term,page:t.page}},dataType:"json",delay:700,processResults:function(t,e){var r=[];return t.forEach(function(t){r.push({id:t.id,text:t.name})}),{results:r}}}}).on("select2:select",function(e){var r=e.params.data;r&&(t.good.id=r.id,t.good.name=r.text,t.fetchCombination())}),o(this.$el).find("#productAttr").select2({placeholder:"请选择商品属性",language:f["default"].select2[this.lang]}),this.$watch("good.id",this.changeSelect)},watch:{attrList:function(){o(this.$el).find("#productAttr").trigger("change")}},methods:{fetchCombination:function(){var t=this;o.ajax({url:p["default"].attrCombination,data:{good_id:this.good.id},success:function(e){t.attrList=e},error:function(){t.attrList=[]}})},remove:function(t){this.model.goodList.splice(t,1)},changeSelect:function(){o(this.$el).find("#productName").trigger("change")},addGood:function(){this.good.attr=o(this.$el).find("#productAttr").val()||[];var t=(0,d["default"])({},this.good);return this.good.id&&this.good.name?this.good.amount?(this.reset(),this.model.goodList.push(t),void(this.add=!this.add)):void this.alert({show:!0,msg:"请输入商品数量",type:"success"}):void this.alert({show:!0,msg:"请输入商品名称",type:"success"})},reset:function(t){var e=t?this.good.id:"",r=t?this.good.name:"";this.good={id:e,name:r,attr:[],amount:""},this.attrList=[],this.$resetValidation()},createOrder:function(){var t=this;t.$validate(!0),t.$v.invalid||t.loading.create||(t.loading.create=!t.loading.create,o.ajax({url:p["default"].createOrder,type:"post",data:(0,s["default"])(t.model),success:function(e){t.alert({show:!0,msg:"添加成功",type:"success"}),t.resetOrder()},error:function(e){t.alert({show:!0,msg:e.responseText||"添加订单失败",type:"error"})}}).always(function(){t.loading.create=!t.loading.create}))},resetOrder:function(){this.model={orderId:"",receiveName:"",expressId:"",expressCost:"",goodList:[],price:"",comment:""},this.$resetValidation()}},vuex:{getters:{lang:function(t){return t.lang}},actions:{alert:g["default"].alert}}});e["default"]=m}).call(e,r(11),r(10))},308:function(t,e){t.exports='<div> <div class=row> <div class=col-lg-12> <h1 class=page-header>{{ $t(\'text_order_create\') }}</h1> </div> </div> <div class=row> <div class=col-lg-12> <div class="panel panel-primary create-order"> <div class=panel-heading> <i class="fa fa-bar-chart-o fa-fw"></i> {{ $t(\'text_order_create\') }} </div> <div class=panel-body> <validator name=v> <div class=input-group> <span class=input-group-addon>订单号：</span> <input id=orderId type=text class=form-control placeholder=请输入订单号 aria-describedby=orderId v-model=model.orderId v-validate:order-id="{required:true, posInt: true}" :class="{\'red-border\': $v.orderId && $v.orderId.touched && $v.orderId.invalid}"> </div> <div class="input-group error-msg" v-if="$v.orderId.touched && $v.orderId.invalid"> <div v-if=$v.orderId.required class=red-color>订单号不能为空</div> <div v-if="!$v.orderId.required && $v.orderId.posInt" class=red-color>订单号只能为正整数</div> </div> <div class=input-group> <span class=input-group-addon>收货人：</span> <input id=receiveName type=text class=form-control placeholder=请输入收货人 aria-describedby=receiveName v-model=model.receiveName v-validate:receive-name={required:true} :class="{\'red-border\': $v.receiveName && $v.receiveName.touched && $v.receiveName.invalid}"> </div> <div class="input-group error-msg" v-if="$v.receiveName.touched && $v.receiveName.invalid"> <div v-if=$v.receiveName.required class=red-color>收货人不能为空</div> </div> <div class=input-group> <span class=input-group-addon>订单价格</span> <input id=price type=text class=form-control placeholder=请输入订单价格 aria-describedby=price v-model=model.price v-validate:price="{required:true, posFloat: true}" :class="{\'red-border\': $v.price && $v.price.touched && $v.price.invalid}"> </div> <div class="input-group error-msg" v-if="$v.price.touched && $v.price.invalid"> <div v-if=$v.price.required class=red-color>订单价格不能为空</div> <div v-if="!$v.price.required && $v.price.posFloat" class=red-color>订单价格不能小于零</div> </div> <div class=input-group> <span class=input-group-addon>快递单号</span> <input id=expressId type=text class=form-control placeholder=请输入快递单号 aria-describedby=expressId v-model=model.expressId v-validate:express-id="{required:true, posInt: true}" :class="{\'red-border\': $v.expressId && $v.expressId.touched && $v.expressId.invalid}"> </div> <div class="input-group error-msg" v-if="$v.expressId.touched && $v.expressId.invalid"> <div v-if=$v.expressId.required class=red-color>快递单号不能为空</div> <div v-if="!$v.expressId.required && $v.expressId.posInt" class=red-color>快递单号只能为正整数</div> </div> <div class=input-group> <span class=input-group-addon>快递费用</span> <input id=expressCost type=text class=form-control placeholder=请输入快递费 aria-describedby=expressCost v-model=model.expressCost v-validate:express-cost="{required:true, posInt: true}" :class="{\'red-border\': $v.expressCost && $v.expressCost.touched && $v.expressCost.invalid}"> </div> <div class="input-group error-msg" v-if="$v.expressCost.touched && $v.expressCost.invalid"> <div v-if=$v.expressCost.required class=red-color>快递费不能为空</div> <div v-if="!$v.expressCost.required && $v.expressCost.posInt" class=red-color>快递费只能为正整数</div> </div> <div class=input-group> <span class=input-group-addon>备注说明</span> <textarea id=comment type=text class=form-control placeholder="" aria-describedby=comment v-model=model.comment></textarea> </div> <div class=good-list v-if="model.goodList.length > 0"> <table class=table> <thead> <tr> <th>商品名称</th> <th>商品属性</th> <th>商品数量</th> <th>操作</th> </tr> </thead> <tbody> <tr class=item v-for="good in model.goodList"> <td>{{good.name}}</td> <td>{{good.attr}}</td> <td> {{good.amount}} </td> <td><i class="fa fa-trash" aria-hidden=true @click=remove($index)></i> </td> </tr> </tbody> </table> </div> <div class=right v-show=!add><a href=javascript:void(0) @click="add=!add">+添加商品</a></div> <div v-show=add class=addArea> <div class=input-group> <span class=input-group-addon>商品名称</span> <div class=select2Div> <select id=productName style=width:100% v-model=good.id> </select> </div> </div> <div class=input-group> <span class=input-group-addon>商品属性</span> <div class=select2Div> <select id=productAttr style=width:100%> <option v-for="attr in attrList" :value="attr.attrs | join-attrs \'id\' \',\'">{{attr.attrs | join-attrs}}</option> </select> </div> </div> <div class=input-group> <span class=input-group-addon>商品数量</span> <input id=productAmount type=text class=form-control placeholder=请输入商品数量 aria-describedby=productAmount v-model=good.amount> </div> <div class="float-right btns"> <button type=button class="btn btn-primary" @click=addGood>保存</button> <button type=button class="btn btn-danger" @click="add = !add">完成</button> </div> <div class=clearfix></div> </div> </validator> <div class="float-right btns"> <button type=button class="btn btn-primary" @click=createOrder>创建</button> <button type=button class="btn btn-danger" @click=reset>取消</button> </div> </div> </div> </div> </div> </div> '}});
//# sourceMappingURL=15.fb3a2e3d4ab2e32c8767.js.map