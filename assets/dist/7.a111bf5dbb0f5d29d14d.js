webpackJsonp([7],{9:function(t,e,s){var i,n;/* !
	 * @author Sean Coker <sean@seancoker.com>
	 * @version 1.7.0
	 * @url http://sean.is/poppin/tags
	 * @license MIT
	 * @description Taggle is a dependency-less tagging library
	 */
!function(s,a){"use strict";function r(){for(var t=arguments[0],e=1,s=arguments.length;s>e;e++){var i=arguments[e];for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])}return t}function o(t){return Array.isArray?Array.isArray(t):"[object Array]"===Object.prototype.toString.call(t)}function l(t,e,s){t.addEventListener?t.addEventListener(e,s,!1):t.attachEvent?t.attachEvent("on"+e,s):t["on"+e]=s}function u(t){return t.replace(/^\s+|\s+$/g,"")}function p(t,e){s.attachEvent&&!s.addEventListener?t.innerText=e:t.textContent=e}var h=function(){},c={additionalTagClasses:"",allowDuplicates:!1,saveOnBlur:!1,duplicateTagClass:"",containerFocusClass:"active",focusInputOnContainerClick:!0,hiddenInputName:"taggles[]",tags:[],allowedTags:[],disallowedTags:[],maxTags:null,tabIndex:1,placeholder:"Enter tags...",submitKeys:[],preserveCase:!1,tagFormatter:h,onBeforeTagAdd:h,onTagAdd:h,onBeforeTagRemove:h,onTagRemove:h},d=8,g=188,v=9,f=13,m=function(t,e){this.settings=r({},c,e),this.measurements={container:{rect:null,style:null,padding:null}},this.container=t,this.tag={values:[],elements:[]},this.list=a.createElement("ul"),this.inputLi=a.createElement("li"),this.input=a.createElement("input"),this.sizer=a.createElement("div"),this.pasting=!1,this.placeholder=null,this.settings.placeholder&&(this.placeholder=a.createElement("span")),this.settings.submitKeys.length||(this.settings.submitKeys=[g,v,f]),"string"==typeof t&&(this.container=a.getElementById(t)),this._getMeasurements(),this._setupTextarea(),this._attachEvents()};m.prototype._getMeasurements=function(){var t,e,i;this.measurements.container.rect=this.container.getBoundingClientRect(),this.measurements.container.style=s.getComputedStyle(this.container),t=this.measurements.container.style,e=parseInt(t["padding-left"]||t.paddingLeft,10),i=parseInt(t["padding-right"]||t.paddingRight,10),this.measurements.container.padding=e+i},m.prototype._setupTextarea=function(){var t;if(this.list.className="taggle_list",this.input.type="text",this.input.className="taggle_input",this.input.tabIndex=this.settings.tabIndex,this.sizer.className="taggle_sizer",this.settings.tags.length)for(var e=0,i=this.settings.tags.length;i>e;e++){var n=this._createTag(this.settings.tags[e]);this.list.appendChild(n)}this.placeholder&&(this.placeholder.style.opacity=0,this.placeholder.classList.add("taggle_placeholder"),this.container.appendChild(this.placeholder),p(this.placeholder,this.settings.placeholder),this.settings.tags.length||(this.placeholder.style.opacity=1)),this.inputLi.appendChild(this.input),this.list.appendChild(this.inputLi),this.container.appendChild(this.list),this.container.appendChild(this.sizer),t=s.getComputedStyle(this.input).fontSize,this.sizer.style.fontSize=t},m.prototype._attachEvents=function(){var t=this;this.settings.focusInputOnContainerClick&&l(this.container,"click",function(){t.input.focus()}),l(this.input,"focus",this._focusInput.bind(this)),l(this.input,"blur",this._blurEvent.bind(this)),l(this.input,"keydown",this._keydownEvents.bind(this)),l(this.input,"keyup",this._keyupEvents.bind(this))},m.prototype._fixInputWidth=function(){var t,e,s,i,n;this._setInputWidth(),e=this.input.getBoundingClientRect(),s=this.measurements.container.rect,t=~~s.width,t||(t=~~s.right-~~s.left),i=~~e.left-~~s.left,n=this.measurements.container.padding,this._setInputWidth(t-i-n)},m.prototype._canAdd=function(t,e){if(!e)return!1;var s=this.settings.maxTags;if(null!==s&&s<=this.getTagValues().length)return!1;if(this.settings.onBeforeTagAdd(t,e)===!1)return!1;if(!this.settings.allowDuplicates&&this._hasDupes(e))return!1;var i=this.settings.preserveCase,n=this.settings.allowedTags;if(n.length&&!this._tagIsInArray(e,n,i))return!1;var a=this.settings.disallowedTags;return!a.length||!this._tagIsInArray(e,a,i)},m.prototype._tagIsInArray=function(t,e,s){if(s)return-1!==e.indexOf(t);var i=[].slice.apply(e).map(function(t){return t.toLowerCase()});return-1!==i.indexOf(t)},m.prototype._add=function(t,e){var s=this,i=e||"";"string"!=typeof e&&(i=u(this.input.value)),i.split(",").map(function(t){return s._formatTag(t)}).forEach(function(e){if(s._canAdd(t,e)){var i=s._createTag(e),n=s.list.children,a=n[n.length-1];s.list.insertBefore(i,a),s.settings.onTagAdd(t,e),s.input.value="",s._setInputWidth(),s._fixInputWidth(),s._focusInput()}})},m.prototype._checkLastTag=function(t){t=t||s.event;var e=this.container.querySelectorAll(".taggle"),i=e[e.length-1],n="taggle_hot",a=this.input.classList.contains("taggle_back");""!==this.input.value||t.keyCode!==d||a?i.classList.contains(n)&&i.classList.remove(n):i.classList.contains(n)?(this.input.classList.add("taggle_back"),this._remove(i,t),this._fixInputWidth(),this._focusInput()):i.classList.add(n)},m.prototype._setInputWidth=function(t){this.input.style.width=(t||10)+"px"},m.prototype._hasDupes=function(t){var e,s=this.tag.values.indexOf(t),i=this.container.querySelector(".taggle_list");if(this.settings.duplicateTagClass){e=i.querySelectorAll("."+this.settings.duplicateTagClass);for(var n=0,a=e.length;a>n;n++)e[n].classList.remove(this.settings.duplicateTagClass)}return s>-1?(this.settings.duplicateTagClass&&i.childNodes[s].classList.add(this.settings.duplicateTagClass),!0):!1},m.prototype._isConfirmKey=function(t){var e=!1;return this.settings.submitKeys.indexOf(t)>-1&&(e=!0),e},m.prototype._focusInput=function(){this._fixInputWidth(),this.container.classList.contains(this.settings.containerFocusClass)||this.container.classList.add(this.settings.containerFocusClass),this.placeholder&&(this.placeholder.style.opacity=0)},m.prototype._blurEvent=function(t){if(this.container.classList.contains(this.settings.containerFocusClass)&&this.container.classList.remove(this.settings.containerFocusClass),!this.tag.values.length&&this.placeholder&&(this.placeholder.style.opacity=1),this.settings.saveOnBlur){if(t=t||s.event,this._listenForEndOfContainer(),""!==this.input.value)return void this._confirmValidTagEvent(t);this.tag.values.length&&this._checkLastTag(t)}else this.input.value="",this._setInputWidth()},m.prototype._keydownEvents=function(t){t=t||s.event;var e=t.keyCode;return this.pasting=!1,this._listenForEndOfContainer(),86===e&&t.metaKey&&(this.pasting=!0),this._isConfirmKey(e)&&""!==this.input.value?void this._confirmValidTagEvent(t):void(this.tag.values.length&&this._checkLastTag(t))},m.prototype._keyupEvents=function(t){t=t||s.event,this.input.classList.remove("taggle_back"),p(this.sizer,this.input.value),this.pasting&&""!==this.input.value&&(this._add(t),this.pasting=!1)},m.prototype._confirmValidTagEvent=function(t){t=t||s.event,t.preventDefault?t.preventDefault():t.returnValue=!1,this._add(t)},m.prototype._listenForEndOfContainer=function(){var t=this.sizer.getBoundingClientRect().width,e=this.measurements.container.rect.width-this.measurements.container.padding,s=parseInt(this.sizer.style.fontSize,10);t+1.5*s>parseInt(this.input.style.width,10)&&(this.input.style.width=e+"px")},m.prototype._createTag=function(t){var e=a.createElement("li"),s=a.createElement("button"),i=a.createElement("input"),n=a.createElement("span");t=this._formatTag(t),s.innerHTML="&times;",s.className="close",l(s,"click",this._remove.bind(this,s)),p(n,t),n.className="taggle_text",e.className="taggle "+this.settings.additionalTagClasses,i.type="hidden",i.value=t,i.name=this.settings.hiddenInputName,e.appendChild(n),e.appendChild(s),e.appendChild(i);var r=this.settings.tagFormatter(e);if("undefined"!=typeof r&&(e=r),!(e instanceof HTMLElement)||"LI"!==e.tagName)throw new Error("tagFormatter must return an li element");return this.tag.values.push(t),this.tag.elements.push(e),e},m.prototype._remove=function(t,e){var s,i,n,a;"li"!==t.tagName.toLowerCase()&&(t=t.parentNode),s=t.querySelector(".taggle_text"),i=s.innerText||s.textContent,this.settings.onBeforeTagRemove(e,i)!==!1&&(t.parentNode.removeChild(t),n="a"===t.tagName.toLowerCase()?t.parentNode:t,a=this.tag.elements.indexOf(n),this.tag.elements.splice(a,1),this.tag.values.splice(a,1),this.settings.onTagRemove(e,i),this._focusInput())},m.prototype._formatTag=function(t){return this.settings.preserveCase?t:t.toLowerCase()},m.prototype.getTags=function(){return{elements:this.getTagElements(),values:this.getTagValues()}},m.prototype.getTagElements=function(){return this.tag.elements},m.prototype.getTagValues=function(){return[].slice.apply(this.tag.values)},m.prototype.getInput=function(){return this.input},m.prototype.getContainer=function(){return this.container},m.prototype.add=function(t){var e=o(t);if(e)for(var s=0,i=t.length;i>s;s++)"string"==typeof t[s]&&this._add(null,t[s]);else this._add(null,t);return this},m.prototype.remove=function(t,e){for(var s=this.tag.values.length-1,i=!1;s>-1&&(this.tag.values[s]===t&&(i=!0,this._remove(this.tag.elements[s])),!i||e);)s--;return this},m.prototype.removeAll=function(){for(var t=this.tag.values.length-1;t>=0;t--)this._remove(this.tag.elements[t]);return this},i=[],n=function(){return m}.apply(e,i),!(void 0!==n&&(t.exports=n))}(window,document)},91:function(t,e,s){var i,n;i=s(92),n=s(93),t.exports=i||{},t.exports.__esModule&&(t.exports=t.exports["default"]),n&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=n)},92:function(t,e,s){(function(t,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var a=s(56),r=n(a),o=s(51),l=n(o),u=s(68),p=(n(u),s(48)),h=n(p),c=s(9),d=n(c),g=t.extend({name:"create",data:function(){return{model:{name:""},loading:{create:!1}}},ready:function(){this.taggle=new d["default"]("productAttr",{placeholder:"请输入商品属性（选填）（Enter键确认）"}),i("#productAttr").addClass("relative")},methods:{create:function(){var t=this;if(t.$validate(!0),!t.$v.invalid&&!t.loading.create){t.loading.create=!t.loading.create;var e=t.taggle.getTagValues();e.length>0&&(t.model.attr=e),i.ajax({url:l["default"].createGood,type:"post",data:(0,r["default"])(t.model),success:function(e){t.alert({show:!0,msg:"添加成功",type:"success"}),t.reset()},error:function(e){t.alert({show:!0,msg:e.responseText||"添加失败",type:"error"})}}).always(function(){t.loading.create=!t.loading.create})}},reset:function(){this.model={name:""},this.$resetValidation(),this.taggle.removeAll()}},vuex:{actions:{alert:h["default"].alert}}});e["default"]=g}).call(e,s(8),s(7))},93:function(t,e){t.exports='<div class="panel panel-primary good-create"> <div class=panel-heading>添加商品</div> <div class=panel-body> <validator name=v> <div class=input-group> <span class=input-group-addon id=productName>商品名称</span> <input type=text class=form-control placeholder=请输入商品名称 aria-describedby=productName v-model=model.name v-validate:name={required:true} :class="{\'red-border\': $v.name && $v.name.touched && $v.name.invalid}"> </div> <div class="input-group error-msg" v-if="$v.name.touched && $v.name.invalid"> <div v-if=$v.name.required class=red-color>商品名称不能为空</div> </div> <div class=input-group> <span class=input-group-addon>商品属性</span> <div id=productAttr class=productAttr></div> </div> <div class=input-group> <span class=input-group-addon id=productAmount>商品链接</span> <input type=text class=form-control placeholder=请输入商品链接（选填） aria-describedby=productAmount v-model=model.amount> </div> <div class="float-right btns"> <button type=button class="btn btn-primary" @click=create>添加</button> <button type=button class="btn btn-danger" @click=reset>取消</button> </div> </validator> </div> </div>'}});
//# sourceMappingURL=7.a111bf5dbb0f5d29d14d.js.map