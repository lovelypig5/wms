webpackJsonp([10],{288:function(a,t,i){var e,o,n={};e=i(289),a.exports=e||{},a.exports.__esModule&&(a.exports=a.exports["default"]);var s="function"==typeof a.exports?a.exports.options||(a.exports.options={}):a.exports;o&&(s.template=o),s.computed||(s.computed={}),Object.keys(n).forEach(function(a){var t=n[a];s.computed[a]=function(){return t}})},289:function(a,t,i){(function(a){"use strict";function e(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(t,"__esModule",{value:!0});var o=i(290),n=e(o),s=a.extend({template:n["default"],props:["pagination","change","pageNum"],created:function(){this.pageNum||(this.pageNum=10),this.pageNum=parseInt(this.pageNum)},computed:{pageNumHalf:function(){return Math.ceil(this.pageNum/2)},lower:function r(){var r=this.pagination.page-this.pageNumHalf,a=this.pagination.page+this.pageNumHalf-1;return a>this.totalPage&&(r=this.totalPage-this.pageNum),r<0&&(r=0),r},upper:function d(){var a=this.pagination.page-this.pageNumHalf,d=this.pagination.page+this.pageNumHalf-1;return a<0&&(d=this.pageNum),d>this.totalPage&&(d=this.totalPage),d},totalPage:function(){return Math.ceil(this.pagination.count/this.pagination.pageSize)}},methods:{back:function(){if(!(this.pagination.page<=1)){var a=this.pagination.page-this.pageNum<1?1:this.pagination.page-this.pageNum;this.change(a)}},forword:function(){if(!(this.pagination.page>=this.totalPage)){var a=this.pagination.page+this.pageNum>this.totalPage?this.totalPage:this.pagination.page+this.pageNum;this.change(a)}}}});t["default"]=s}).call(t,i(11))},290:function(a,t){a.exports='<nav class=center> <ul class=pagination v-show="totalPage > 1"> <li @click=change(1)> <a href=javascript:void(0) aria-label=Previous> <span aria-hidden=true>&laquo;</span> </a> </li> <li :class="{disabled: pagination.page <= 1}" v-if="pagination.page > 1" @click="change(pagination.page - 1)"> <a href=javascript:void(0) aria-label=Previous> <span aria-hidden=true>&lsaquo;</span> </a> </li> <li v-if="pagination.page > 1" @click=back> <a href=javascript:void(0) aria-label=Previous> <span aria-hidden=true>...</span> </a> </li> <li v-for="i in totalPage" v-if="i >= this.lower && i < this.upper" :class="{active: pagination.page == i + 1}" @click="change(i + 1)"><a href=javascript:void(0)>{{ i + 1 }}</a></li> <li v-if="pagination.page < totalPage" @click=forword> <a href=javascript:void(0) aria-label=Previous> <span aria-hidden=true>...</span> </a> </li> <li v-if="pagination.page < totalPage" @click="change(pagination.page + 1)"> <a href=javascript:void(0) aria-label=Previous> <span aria-hidden=true>&rsaquo;</span> </a> </li> <li :class="{disabled: pagination.page >= totalPage}" @click=change(totalPage)> <a href=javascript:void(0) aria-label=Previous> <span aria-hidden=true>&raquo;</span> </a> </li> <li><span>{{ pagination.page }}/{{ totalPage }} 页</span></li> </ul> </nav> '},291:function(a,t,i){var e,o,n={};e=i(292),a.exports=e||{},a.exports.__esModule&&(a.exports=a.exports["default"]);var s="function"==typeof a.exports?a.exports.options||(a.exports.options={}):a.exports;o&&(s.template=o),s.computed||(s.computed={}),Object.keys(n).forEach(function(a){var t=n[a];s.computed[a]=function(){return t}})},292:function(a,t,i){(function(a,e){"use strict";function o(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(273),s=o(n),r=i(293),d=o(r),p=i(66),c=o(p),l=i(63),u=o(l),g=i(288),h=o(g),f=a.extend({template:d["default"],name:"outList",components:{pagination:h["default"]},data:function(){return{outList:[],loading:{fetch:!1},params:{page:1,pageSize:10,count:0,type:1}}},ready:function(){this.fetch(!0)},methods:{change:function(a){this.params.page=a,this.fetch()},edit:function(t){a.set(t,"edit",!t.edit)},save:function(t){var i=this;t.type=1,e.ajax({url:c["default"].modifyInOut,type:"post",data:(0,s["default"])(t),success:function(a){},error:function(a){i.alert({show:!0,msg:a||"修改出库记录失败",type:"error"})}}).always(function(){a.set(t,"edit",!t.edit)})},fetch:function(a){var t=this;a&&(t.params={page:1,pageSize:10,count:0,type:1}),t.loading.fetch||(t.loading.fetch=!t.loading.fetch,e.ajax({url:c["default"].outList,data:t.params}).done(function(a){t.outList=a.content,t.params.count=Math.ceil(a.count/t.params.pageSize)}).fail(function(a){t.alert({show:!0,msg:"拉取出库记录失败",type:"error"})}).always(function(){t.loading.fetch=!t.loading.fetch}))}},vuex:{actions:{alert:u["default"].alert}}});t["default"]=f}).call(t,i(11),i(10))},293:function(a,t){a.exports='<div> <div class=row> <div class=col-lg-12> <h1 class=page-header>{{ $t(\'text_goods_outlist\') }}</h1> </div> </div> <div class=row> <div class=col-lg-12> <div class="panel panel-primary good-list"> <div class=panel-heading> <i class="fa fa-bar-chart-o fa-fw"></i> {{ $t(\'text_goods_outlist\') }} </div> <div class=panel-body> <div class=row> <div class=col-lg-12> <div class=table-responsive> <table class="table table-bordered table-hover table-striped" v-if="!loading.fetch && outList.length > 0"> <thead> <tr> <th>商品名称</th> <th>商品属性</th> <th>出库数量</th> <th>出库价格</th> <th>出库时间</th> <th>操作</th> </tr> </thead> <tbody> <tr class=item v-for="record in outList"> <td><a href=javascript:void(0) v-link="{name: \'detail\', params: {id: record.good_id} }">{{record.good.name}}</a></td> <td>{{record.attrs | join-attrs}}</td> <td v-if=!record.edit> {{record.amount}} </td> <td v-if=record.edit> <input type=text v-model=record.amount> </td> <td v-if=!record.edit>{{record.price}} </td> <td v-if=record.edit> <input type=text v-model=record.price> </td> <td>{{record.date}}</td> <td><i class="fa fa-pencil-square-o" aria-hidden=true @click=edit(record) v-if=!record.edit></i> <i class="fa fa-floppy-o" aria-hidden=true v-if=record.edit @click=save(record)></i> </td> </tr> </tbody> </table> <pagination :pagination=params :change=change></pagination> <div class=empty v-if="!loading.fetch && outList.length == 0"> <div class=msg>没有出库记录</div> </div> <div v-if=loading.fetch> <div class="loading audio-wave"></div> </div> </div> </div> </div> </div> </div> </div> </div> </div> '}});
//# sourceMappingURL=10.fb3a2e3d4ab2e32c8767.js.map