webpackJsonp([6],{238:function(module,exports,__webpack_require__){eval('var __vue_script__, __vue_template__\n__vue_script__ = __webpack_require__(239)\n__vue_template__ = __webpack_require__(245)\nmodule.exports = __vue_script__ || {}\nif (module.exports.__esModule) module.exports = module.exports.default\nif (__vue_template__) {\n(typeof module.exports === "function" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/features/goods/create.vue\n ** module id = 238\n ** module chunks = 6\n **/\n//# sourceURL=webpack:///./js/features/goods/create.vue?')},239:function(module,exports,__webpack_require__){eval('/* WEBPACK VAR INJECTION */(function(Vue, $) {\'use strict\';\n\nObject.defineProperty(exports, "__esModule", {\n    value: true\n});\n\nvar _stringify = __webpack_require__(240);\n\nvar _stringify2 = _interopRequireDefault(_stringify);\n\nvar _api = __webpack_require__(64);\n\nvar _api2 = _interopRequireDefault(_api);\n\nvar _alert = __webpack_require__(242);\n\nvar _alert2 = _interopRequireDefault(_alert);\n\nvar _actions = __webpack_require__(61);\n\nvar _actions2 = _interopRequireDefault(_actions);\n\nvar _taggle = __webpack_require__(15);\n\nvar _taggle2 = _interopRequireDefault(_taggle);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// <template>\n//     <div class="panel panel-primary good-create">\n//         <div class="panel-heading">添加商品</div>\n//         <div class="panel-body">\n//             <validator name="v">\n//                 <div class="input-group">\n//                     <span class="input-group-addon" id="productName">商品名称</span>\n//                     <input type="text" class="form-control" placeholder="请输入商品名称" aria-describedby="productName" v-model="model.name" v-validate:name="{required:true}" :class="{\'red-border\': $v.name && $v.name.touched && $v.name.invalid}">\n//                 </div>\n//                 <div class="input-group error-msg" v-if="$v.name.touched && $v.name.invalid">\n//                     <div v-if="$v.name.required" class="red-color">商品名称不能为空</div>\n//                 </div>\n//                 <div class="input-group">\n//                     <span class="input-group-addon">商品属性</span>\n//                     <div id="productAttr" class="productAttr"></div>\n//                 </div>\n//                 <div class="input-group">\n//                     <span class="input-group-addon" id="productAmount">商品链接</span>\n//                     <input type="text" class="form-control" placeholder="请输入商品链接（选填）" aria-describedby="productAmount" v-model="model.amount">\n//                 </div>\n//                 <div class="float-right btns">\n//                     <button type="button" class="btn btn-primary" @click="create">添加</button>\n//                     <button type="button" class="btn btn-danger" @click="reset">取消</button>\n//                 </div>\n//             </validator>\n//         </div>\n//     </div>\n// </template>\n// <script>\n\n\nvar Create = Vue.extend({\n    name: \'create\',\n    data: function data() {\n        return {\n            model: {\n                name: ""\n            },\n            loading: {\n                create: false\n            }\n        };\n    },\n    ready: function ready() {\n        this.taggle = new _taggle2.default(\'productAttr\', {\n            placeholder: \'请输入商品属性（选填）（Enter键确认）\'\n        });\n        // workaround\n        $(\'#productAttr\').addClass(\'relative\');\n    },\n\n    methods: {\n        create: function create() {\n            var self = this;\n            self.$validate(true);\n            if (self.$v.invalid) {\n                return;\n            }\n            if (self.loading.create) {\n                return;\n            }\n            self.loading.create = !self.loading.create;\n\n            var values = self.taggle.getTagValues();\n            if (values.length > 0) {\n                self.model.attr = values;\n            }\n\n            $.ajax({\n                url: _api2.default.createGood,\n                type: \'post\',\n                data: (0, _stringify2.default)(self.model),\n                success: function success(resp) {\n                    self.alert({\n                        show: true,\n                        msg: \'添加成功\',\n                        type: \'success\'\n                    });\n                    self.reset();\n                },\n                error: function error(resp) {\n                    self.alert({\n                        show: true,\n                        msg: resp.responseText || \'添加失败\',\n                        type: \'error\'\n                    });\n                }\n            }).always(function () {\n                self.loading.create = !self.loading.create;\n            });\n        },\n        reset: function reset() {\n            this.model = {\n                name: ""\n            };\n            this.$resetValidation();\n            this.taggle.removeAll();\n        }\n    },\n    vuex: {\n        actions: {\n            alert: _actions2.default.alert\n        }\n    }\n});\nexports.default = Create;\n// </script>\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(10), __webpack_require__(9)))\n\n/*****************\n ** WEBPACK FOOTER\n ** G:/professional/workspace/out2man/kil/~/babel-loader?{"presets":["G://professional//workspace//out2man//kil//~//babel-preset-es2015//index.js"],"plugins":[["G://professional//workspace//out2man//kil//~//babel-plugin-transform-runtime//lib//index.js"]],"cacheDirectory":true}!G:/professional/workspace/out2man/kil/~/vue-loader/lib/selector.js?type=script&index=0!./js/features/goods/create.vue\n ** module id = 239\n ** module chunks = 6\n **/\n//# sourceURL=webpack:///./js/features/goods/create.vue?G:/professional/workspace/out2man/kil/~/babel-loader?%7B%22presets%22:%5B%22G://professional//workspace//out2man//kil//~//babel-preset-es2015//index.js%22%5D,%22plugins%22:%5B%5B%22G://professional//workspace//out2man//kil//~//babel-plugin-transform-runtime//lib//index.js%22%5D%5D,%22cacheDirectory%22:true%7D!G:/professional/workspace/out2man/kil/~/vue-loader/lib/selector.js?type=script&index=0')},245:function(module,exports){eval('module.exports = "<div class=\\"panel panel-primary good-create\\"> <div class=panel-heading>添加商品</div> <div class=panel-body> <validator name=v> <div class=input-group> <span class=input-group-addon id=productName>商品名称</span> <input type=text class=form-control placeholder=请输入商品名称 aria-describedby=productName v-model=model.name v-validate:name={required:true} :class=\\"{\'red-border\': $v.name && $v.name.touched && $v.name.invalid}\\"> </div> <div class=\\"input-group error-msg\\" v-if=\\"$v.name.touched && $v.name.invalid\\"> <div v-if=$v.name.required class=red-color>商品名称不能为空</div> </div> <div class=input-group> <span class=input-group-addon>商品属性</span> <div id=productAttr class=productAttr></div> </div> <div class=input-group> <span class=input-group-addon id=productAmount>商品链接</span> <input type=text class=form-control placeholder=请输入商品链接（选填） aria-describedby=productAmount v-model=model.amount> </div> <div class=\\"float-right btns\\"> <button type=button class=\\"btn btn-primary\\" @click=create>添加</button> <button type=button class=\\"btn btn-danger\\" @click=reset>取消</button> </div> </validator> </div> </div>";\n\n/*****************\n ** WEBPACK FOOTER\n ** G:/professional/workspace/out2man/kil/~/vue-html-loader!G:/professional/workspace/out2man/kil/~/vue-loader/lib/selector.js?type=template&index=0!./js/features/goods/create.vue\n ** module id = 245\n ** module chunks = 6\n **/\n//# sourceURL=webpack:///./js/features/goods/create.vue?G:/professional/workspace/out2man/kil/~/vue-html-loader!G:/professional/workspace/out2man/kil/~/vue-loader/lib/selector.js?type=template&index=0')}});