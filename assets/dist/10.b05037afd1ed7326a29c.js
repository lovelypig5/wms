webpackJsonp([10],{254:function(module,exports,__webpack_require__){eval('var __vue_script__, __vue_template__\n__vue_script__ = __webpack_require__(255)\n__vue_template__ = __webpack_require__(256)\nmodule.exports = __vue_script__ || {}\nif (module.exports.__esModule) module.exports = module.exports.default\nif (__vue_template__) {\n(typeof module.exports === "function" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/common/pagination.vue\n ** module id = 254\n ** module chunks = 9 10 14\n **/\n//# sourceURL=webpack:///./js/common/pagination.vue?')},255:function(module,exports,__webpack_require__){eval('/* WEBPACK VAR INJECTION */(function(Vue) {\'use strict\';\n\nObject.defineProperty(exports, "__esModule", {\n    value: true\n});\n// <template>\n//     <nav class="center">\n//         <ul class="pagination" v-show="pagination.count > 1">\n//             <li :class="{disabled: pagination.page == 1}" @click="back10">\n//                 <a href="javascript:void(0)" aria-label="Previous">\n//                     <span aria-hidden="true">&laquo;</span>\n//                 </a>\n//             </li>\n//             <li v-for="i in pagination.count" :class="{active: pagination.page == i + 1}" @click="change(i+1)"><a href="javascript:void(0)">{{ i + 1 }}</a></li>\n//             <li :class="{disabled: pagination.page == pagination.count}" @click="forword10">\n//                 <a href="javascript:void(0)" aria-label="Next">\n//                     <span aria-hidden="true">&raquo;</span>\n//                 </a>\n//             </li>\n//         </ul>\n//     </nav>\n// </template>\n// <script>\nvar Pagination = Vue.extend({\n    props: [\'pagination\', \'change\'],\n    methods: {\n        back10: function back10() {\n            var page = this.pagination.page - 10 < 1 ? 1 : this.pagination.page - 10;\n            this.change(page);\n        },\n        forword10: function forword10() {\n            var page = this.pagination.page + 10 > this.pagination.count ? this.pagination.count : this.pagination.page + 10;\n            this.change(page);\n        }\n    }\n});\n\nexports.default = Pagination;\n// </script>\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(10)))\n\n/*****************\n ** WEBPACK FOOTER\n ** G:/professional/workspace/out2man/kil/~/babel-loader?{"presets":["G://professional//workspace//out2man//kil//~//babel-preset-es2015//index.js"],"plugins":[["G://professional//workspace//out2man//kil//~//babel-plugin-transform-runtime//lib//index.js"]],"cacheDirectory":true}!G:/professional/workspace/out2man/kil/~/vue-loader/lib/selector.js?type=script&index=0!./js/common/pagination.vue\n ** module id = 255\n ** module chunks = 9 10 14\n **/\n//# sourceURL=webpack:///./js/common/pagination.vue?G:/professional/workspace/out2man/kil/~/babel-loader?%7B%22presets%22:%5B%22G://professional//workspace//out2man//kil//~//babel-preset-es2015//index.js%22%5D,%22plugins%22:%5B%5B%22G://professional//workspace//out2man//kil//~//babel-plugin-transform-runtime//lib//index.js%22%5D%5D,%22cacheDirectory%22:true%7D!G:/professional/workspace/out2man/kil/~/vue-loader/lib/selector.js?type=script&index=0')},256:function(module,exports){eval('module.exports = "<nav class=center> <ul class=pagination v-show=\\"pagination.count > 1\\"> <li :class=\\"{disabled: pagination.page == 1}\\" @click=back10> <a href=javascript:void(0) aria-label=Previous> <span aria-hidden=true>&laquo;</span> </a> </li> <li v-for=\\"i in pagination.count\\" :class=\\"{active: pagination.page == i + 1}\\" @click=change(i+1)><a href=javascript:void(0)>{{ i + 1 }}</a></li> <li :class=\\"{disabled: pagination.page == pagination.count}\\" @click=forword10> <a href=javascript:void(0) aria-label=Next> <span aria-hidden=true>&raquo;</span> </a> </li> </ul> </nav>";\n\n/*****************\n ** WEBPACK FOOTER\n ** G:/professional/workspace/out2man/kil/~/vue-html-loader!G:/professional/workspace/out2man/kil/~/vue-loader/lib/selector.js?type=template&index=0!./js/common/pagination.vue\n ** module id = 256\n ** module chunks = 9 10 14\n **/\n//# sourceURL=webpack:///./js/common/pagination.vue?G:/professional/workspace/out2man/kil/~/vue-html-loader!G:/professional/workspace/out2man/kil/~/vue-loader/lib/selector.js?type=template&index=0')},258:function(module,exports,__webpack_require__){eval('var __vue_script__, __vue_template__\n__vue_script__ = __webpack_require__(259)\n__vue_template__ = __webpack_require__(260)\nmodule.exports = __vue_script__ || {}\nif (module.exports.__esModule) module.exports = module.exports.default\nif (__vue_template__) {\n(typeof module.exports === "function" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/features/goods/outList.vue\n ** module id = 258\n ** module chunks = 10\n **/\n//# sourceURL=webpack:///./js/features/goods/outList.vue?')},259:function(module,exports,__webpack_require__){eval('/* WEBPACK VAR INJECTION */(function(Vue, $) {\'use strict\';\n\nObject.defineProperty(exports, "__esModule", {\n    value: true\n});\n\nvar _stringify = __webpack_require__(240);\n\nvar _stringify2 = _interopRequireDefault(_stringify);\n\nvar _api = __webpack_require__(64);\n\nvar _api2 = _interopRequireDefault(_api);\n\nvar _actions = __webpack_require__(61);\n\nvar _actions2 = _interopRequireDefault(_actions);\n\nvar _pagination = __webpack_require__(254);\n\nvar _pagination2 = _interopRequireDefault(_pagination);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar OutList = Vue.extend({\n    name: \'outList\',\n    components: {\n        pagination: _pagination2.default\n    },\n    data: function data() {\n        return {\n            outList: [],\n            loading: {\n                fetch: false\n            },\n            params: {\n                page: 1,\n                pageSize: 10,\n                count: 0,\n                type: 1\n            }\n        };\n    },\n    ready: function ready() {\n        this.fetch(true);\n    },\n\n    methods: {\n        change: function change(page) {\n            this.params.page = page;\n            this.fetch();\n        },\n        edit: function edit(good) {\n            Vue.set(good, \'edit\', !good.edit);\n        },\n        save: function save(good) {\n            var self = this;\n            good.type = 1;\n            $.ajax({\n                url: _api2.default.modifyInOut,\n                type: \'post\',\n                data: (0, _stringify2.default)(good),\n                success: function success(resp) {},\n                error: function error(resp) {\n                    self.alert({\n                        show: true,\n                        msg: resp || \'修改出库记录失败\',\n                        type: \'error\'\n                    });\n                }\n            }).always(function () {\n                Vue.set(good, \'edit\', !good.edit);\n            });\n        },\n        fetch: function fetch(reset) {\n            var self = this;\n\n            if (reset) {\n                self.params = {\n                    page: 1,\n                    pageSize: 10,\n                    count: 0,\n                    type: 1\n                };\n            }\n\n            if (self.loading.fetch) {\n                return;\n            }\n            self.loading.fetch = !self.loading.fetch;\n\n            $.ajax({\n                url: _api2.default.outList,\n                data: self.params,\n                success: function success(resp) {\n                    self.outList = resp.content;\n                    self.params.count = Math.ceil(resp.count / self.params.pageSize);\n                },\n                error: function error(resp) {\n                    self.alert({\n                        show: true,\n                        msg: \'拉取出库记录失败\',\n                        type: \'error\'\n                    });\n                }\n            }).always(function () {\n                self.loading.fetch = !self.loading.fetch;\n            });\n        }\n    },\n    vuex: {\n        actions: {\n            alert: _actions2.default.alert\n        }\n    }\n}); // <template>\n//     <div class="panel panel-primary good-list">\n//         <div class="panel-heading">出库记录</div>\n//         <table class="table" v-if="!loading.fetch && outList.length > 0">\n//             <thead>\n//                 <tr>\n//                     <th>商品名称</th>\n//                     <th>商品属性</th>\n//                     <th>出库数量</th>\n//                     <th>出库价格</th>\n//                     <th>出库时间</th>\n//                     <th>操作</th>\n//                 </tr>\n//             </thead>\n//             <tbody>\n//                 <tr class="item" v-for="good in outList">\n//                     <td><a href="javascript:void(0)" v-link="{name: \'detail\', params: {id: good.goods_id} }">{{good.name}}</a></td>\n//                     <td>{{good.goods_attr | remove-whitespace}}</td>\n//                     <td v-if="!good.edit">\n//                         {{good.amount}}\n//                     </td>\n//                     <td v-if="good.edit">\n//                         <input type="text" v-model="good.amount">\n//                     </td>\n//                     <td v-if="!good.edit">{{good.price}}\n//                     </td>\n//                     <td v-if="good.edit">\n//                         <input type="text" v-model="good.price">\n//                     </td>\n//                     <td>{{good.date}}</td>\n//                      <td><i class="fa fa-pencil-square-o" aria-hidden="true" @click="edit(good)" v-if="!good.edit"></i>\n//                         <i class="fa fa-floppy-o" aria-hidden="true" v-if="good.edit" @click="save(good)"></i>\n//                     </td>\n//                 </tr>\n//             </tbody>\n//         </table>\n//         <pagination :pagination="params" :change="change"></pagination>\n//         <div class="empty" v-if="!loading.fetch && outList.length == 0">\n//             <div class="msg">没有出库记录</div>\n//         </div>\n//         <div v-if="loading.fetch">\n//             <div class="loading audio-wave"></div>\n//         </div>\n//     </div>\n// </template>\n// <script>\n\nexports.default = OutList;\n// </script>\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(10), __webpack_require__(9)))\n\n/*****************\n ** WEBPACK FOOTER\n ** G:/professional/workspace/out2man/kil/~/babel-loader?{"presets":["G://professional//workspace//out2man//kil//~//babel-preset-es2015//index.js"],"plugins":[["G://professional//workspace//out2man//kil//~//babel-plugin-transform-runtime//lib//index.js"]],"cacheDirectory":true}!G:/professional/workspace/out2man/kil/~/vue-loader/lib/selector.js?type=script&index=0!./js/features/goods/outList.vue\n ** module id = 259\n ** module chunks = 10\n **/\n//# sourceURL=webpack:///./js/features/goods/outList.vue?G:/professional/workspace/out2man/kil/~/babel-loader?%7B%22presets%22:%5B%22G://professional//workspace//out2man//kil//~//babel-preset-es2015//index.js%22%5D,%22plugins%22:%5B%5B%22G://professional//workspace//out2man//kil//~//babel-plugin-transform-runtime//lib//index.js%22%5D%5D,%22cacheDirectory%22:true%7D!G:/professional/workspace/out2man/kil/~/vue-loader/lib/selector.js?type=script&index=0')},260:function(module,exports){eval('module.exports = "<div class=\\"panel panel-primary good-list\\"> <div class=panel-heading>出库记录</div> <table class=table v-if=\\"!loading.fetch && outList.length > 0\\"> <thead> <tr> <th>商品名称</th> <th>商品属性</th> <th>出库数量</th> <th>出库价格</th> <th>出库时间</th> <th>操作</th> </tr> </thead> <tbody> <tr class=item v-for=\\"good in outList\\"> <td><a href=javascript:void(0) v-link=\\"{name: \'detail\', params: {id: good.goods_id} }\\">{{good.name}}</a></td> <td>{{good.goods_attr | remove-whitespace}}</td> <td v-if=!good.edit> {{good.amount}} </td> <td v-if=good.edit> <input type=text v-model=good.amount> </td> <td v-if=!good.edit>{{good.price}} </td> <td v-if=good.edit> <input type=text v-model=good.price> </td> <td>{{good.date}}</td> <td><i class=\\"fa fa-pencil-square-o\\" aria-hidden=true @click=edit(good) v-if=!good.edit></i> <i class=\\"fa fa-floppy-o\\" aria-hidden=true v-if=good.edit @click=save(good)></i> </td> </tr> </tbody> </table> <pagination :pagination=params :change=change></pagination> <div class=empty v-if=\\"!loading.fetch && outList.length == 0\\"> <div class=msg>没有出库记录</div> </div> <div v-if=loading.fetch> <div class=\\"loading audio-wave\\"></div> </div> </div>";\n\n/*****************\n ** WEBPACK FOOTER\n ** G:/professional/workspace/out2man/kil/~/vue-html-loader!G:/professional/workspace/out2man/kil/~/vue-loader/lib/selector.js?type=template&index=0!./js/features/goods/outList.vue\n ** module id = 260\n ** module chunks = 10\n **/\n//# sourceURL=webpack:///./js/features/goods/outList.vue?G:/professional/workspace/out2man/kil/~/vue-html-loader!G:/professional/workspace/out2man/kil/~/vue-loader/lib/selector.js?type=template&index=0')}});