webpackJsonp([11],{CWCr:function(e,a,r){"use strict";(function(e,o){Object.defineProperty(a,"__esModule",{value:!0});var s=r("WA0P"),d=r.n(s),i=r("k06x"),t=r("dV3E"),n=r("UY0x"),l=r("IU/f"),v=r("lbHh"),c=r.n(v);l.a.init();var p="wms.out2man.com",m=e.extend({store:t.a,template:d.a,name:"login",data:function(){var e=!!c.a.get("rememberMe");return{userName:e?c.a.get("name"):"",password:e?c.a.get("password"):"",rememberMe:e,loading:{login:!1}}},methods:{doLogin:function(){var e=this;e.$validate(!0),e.$v.invalid||e.loading.login||(e.loading.login=!e.loading.login,o.ajax({url:i.a.login,type:"post",data:JSON.stringify({userName:e.userName,password:e.password})}).done(function(a){if(e.rememberMe){var r={expires:365,domain:p};c.a.set("rememberMe",e.rememberMe,r),c.a.set("name",e.userName,r),c.a.set("password",e.password,r)}else c.a.remove("rememberMe"),c.a.remove("name"),c.a.remove("password");e.getUser(),e.$route.router.go({path:"/goods"})}).fail(function(a){e.alert({show:!0,msg:a.responseText||"登录失败",type:"error"})}).always(function(){e.loading.login=!e.loading.login}))}},vuex:{actions:{getUser:n.a.user,alert:n.a.alert}}});a.default=m}).call(a,r("I3G/"),r("7t+N"))},WA0P:function(e,a){e.exports='<div class=container> <div class=row> <div class="col-md-4 col-md-offset-4"> <div class="login-panel panel panel-default"> <div class=panel-heading> <h3 class=panel-title>请先登录</h3> </div> <div class=panel-body> <validator name=v> <fieldset> <div class=form-group> <input type=text class=form-control placeholder=用户名 aria-describedby=userName v-model=userName v-validate:name={required:true} :class="{\'red-border\': $v.name && $v.name.touched && $v.name.invalid}" @keyup.enter=doLogin /> </div> <div class="form-group error-msg" v-if="$v.name.touched && $v.name.invalid"> <div v-if=$v.name.required class=red-color>用户名不能为空</div> </div> <div class=form-group> <input type=password class=form-control placeholder=密码 aria-describedby=password v-model=password v-validate:password={required:true} :class="{\'red-border\': $v.password && $v.password.touched && $v.password.invalid}" @keyup.enter=doLogin /> </div> <div class="form-group error-msg" v-if="$v.password.touched && $v.password.invalid"> <div v-if=$v.password.required class=red-color>密码不能为空</div> </div> <div class=checkbox> <label> <input name=remember type=checkbox v-model=rememberMe>记住我 </label> </div> <a href=javascript:void(0) class="btn btn-lg btn-success btn-block" @click=doLogin>登录</a> </fieldset> </validator> </div> </div> </div> </div> </div> '},ux8B:function(e,a,r){var o,s={};o=r("CWCr"),e.exports=o||{},e.exports.__esModule&&(e.exports=e.exports.default);var d="function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports;d.computed||(d.computed={}),Object.keys(s).forEach(function(e){var a=s[e];d.computed[e]=function(){return a}})}});
//# sourceMappingURL=11.9bb6adb59dfae4a81edc.js.map