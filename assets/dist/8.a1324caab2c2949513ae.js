webpackJsonp([8],{279:function(t,i,a){var e,n,o={};e=a(280),t.exports=e||{},t.exports.__esModule&&(t.exports=t.exports["default"]);var s="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;n&&(s.template=n),s.computed||(s.computed={}),Object.keys(o).forEach(function(t){var i=o[t];s.computed[t]=function(){return i}})},280:function(t,i,a){(function(t,e){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(i,"__esModule",{value:!0});var o=a(267),s=n(o),r=a(281),c=n(r),d=a(66),p=n(d),l=a(63),u=n(l),f=a(282),h=n(f),g=t.extend({template:c["default"],name:"inList",components:{pagination:h["default"]},data:function(){return{inList:[],loading:{fetch:!1},params:{page:1,pageSize:10,count:0}}},ready:function(){this.fetch(!0)},methods:{edit:function(i){t.set(i,"edit",!i.edit)},save:function(i){var a=this;i.type=-1,e.ajax({url:p["default"].modifyInOut,type:"post",data:(0,s["default"])(i),success:function(t){},error:function(t){a.alert({show:!0,msg:t||"修改入库记录失败",type:"error"})}}).always(function(){t.set(i,"edit",!i.edit)})},change:function(t){this.params.page=t,this.fetch()},fetch:function(t){var i=this;t&&(i.params={page:1,pageSize:10,count:0}),i.loading.fetch||(i.loading.fetch=!i.loading.fetch,e.ajax({url:p["default"].inList,data:i.params,success:function(t){i.inList=t.content,i.params.count=Math.ceil(t.count/i.params.pageSize)},error:function(t){i.alert({show:!0,msg:"拉取入库记录失败",type:"error"})}}).always(function(){i.loading.fetch=!i.loading.fetch}))}},vuex:{actions:{alert:u["default"].alert}}});i["default"]=g}).call(i,a(11),a(10))},281:function(t,i){t.exports='<div> <div class=row> <div class=col-lg-12> <h1 class=page-header>{{ $t(\'text_goods_inlist\') }}</h1> </div> </div> <div class=row> <div class=col-lg-12> <div class="panel panel-primary good-list"> <div class=panel-heading> <i class="fa fa-bar-chart-o fa-fw"></i> {{ $t(\'text_goods_inlist\') }} </div> <div class=panel-body> <div class=row> <div class=col-lg-12> <div class=table-responsive> <table class=table v-if="!loading.fetch && inList.length > 0"> <thead> <tr> <th>商品名称</th> <th>商品属性</th> <th>入库数量</th> <th>入库价格</th> <th>入库时间</th> <th>操作</th> </tr> </thead> <tbody> <tr class=item v-for="record in inList"> <td><a href=javascript:void(0) v-link="{name: \'detail\', params: {id: record.goods_id} }">{{record.good.name}}</a></td> <td>{{record.attrs | join-attrs}}</td> <td v-if=!record.edit> {{record.amount}} </td> <td v-if=record.edit> <input type=text v-model=record.amount> </td> <td v-if=!record.edit>{{record.price}} </td> <td v-if=record.edit> <input type=text v-model=record.price> </td> <td>{{record.date}}</td> <td><i class="fa fa-pencil-square-o" aria-hidden=true @click=edit(record) v-if=!record.edit></i> <i class="fa fa-floppy-o" aria-hidden=true v-if=record.edit @click=save(record)></i> </td> </tr> </tbody> </table> <div v-if=loading.fetch> <div class="loading audio-wave"></div> </div> <pagination :pagination=params :change=change></pagination> <div class=empty v-if="!loading.fetch && inList.length == 0"> <div class=msg>没有入库记录</div> </div> </div> </div> </div> </div> </div> </div> </div> </div> '},282:function(t,i,a){var e,n,o={};e=a(283),n=a(284),t.exports=e||{},t.exports.__esModule&&(t.exports=t.exports["default"]);var s="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;n&&(s.template=n),s.computed||(s.computed={}),Object.keys(o).forEach(function(t){var i=o[t];s.computed[t]=function(){return i}})},283:function(t,i,a){(function(t){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a=t.extend({props:["pagination","change"],computed:{lower:function e(){var e=this.pagination.page-5,t=this.pagination.page+5;return t>this.pagination.count&&(e=this.pagination.count-10),e<0&&(e=0),e},upper:function n(){var t=this.pagination.page-5,n=this.pagination.page+5;return t<0&&(n=10),n>this.pagination.count&&(n=this.pagination.count),n}},methods:{back10:function(){if(!(this.pagination.page<=1)){var t=this.pagination.page-10<1?1:this.pagination.page-10;this.change(t)}},forword10:function(){if(!(this.pagination.page>=this.pagination.count)){var t=this.pagination.page+10>this.pagination.count?this.pagination.count:this.pagination.page+10;this.change(t)}}}});i["default"]=a}).call(i,a(11))},284:function(t,i){t.exports=' <nav class=center> <ul class=pagination v-show="pagination.count > 1"> <li :class="{disabled: pagination.page <= 1}" @click=back10> <a href=javascript:void(0) aria-label=Previous> <span aria-hidden=true>&laquo;</span> </a> </li> <li v-for="i in pagination.count" v-if="i >= this.lower && i < this.upper" :class="{active: pagination.page == i + 1}" @click=change(i+1)><a href=javascript:void(0)>{{ i + 1 }}</a></li> <li :class="{disabled: pagination.page >= pagination.count}" @click=forword10> <a href=javascript:void(0) aria-label=Next> <span aria-hidden=true>&raquo;</span> </a> </li> </ul> </nav> '}});
//# sourceMappingURL=8.a1324caab2c2949513ae.js.map