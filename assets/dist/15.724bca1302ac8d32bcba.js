webpackJsonp([15],{68:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={goodsMenu:["text_goods_state","text_goods_list","text_goods_out","text_goods_in","text_goods_outlist","text_goods_inlist","text_goods_create"],orderMenu:["text_order_list","text_order_create"],select2:{zh:{errorLoading:function(){return"无法载入结果。"},inputTooLong:function(e){var t=e.input.length-e.maximum,r="请删除"+t+"个字符";return r},inputTooShort:function(e){var t=e.minimum-e.input.length,r="请再输入至少"+t+"个字符";return r},loadingMore:function(){return"载入更多结果…"},maximumSelected:function(e){var t="最多只能选择"+e.maximum+"个项目";return t},noResults:function(){return"未找到结果"},searching:function(){return"搜索中…"}}}};t["default"]=r},75:function(e,t,r){e.exports={"default":r(76),__esModule:!0}},76:function(e,t,r){r(77),e.exports=r(80).Object.assign},77:function(e,t,r){var o=r(78);o(o.S+o.F,"Object",{assign:r(83)})},78:function(e,t,r){var o=r(79),i=r(80),s=r(81),d="prototype",n=function(e,t,r){var a,c,u,l=e&n.F,p=e&n.G,v=e&n.S,f=e&n.P,g=e&n.B,h=e&n.W,m=p?i:i[t]||(i[t]={}),x=p?o:v?o[t]:(o[t]||{})[d];p&&(r=t);for(a in r)c=!l&&x&&a in x,c&&a in m||(u=c?x[a]:r[a],m[a]=p&&"function"!=typeof x[a]?r[a]:g&&c?s(u,o):h&&x[a]==u?function(e){var t=function(t){return this instanceof e?new e(t):e(t)};return t[d]=e[d],t}(u):f&&"function"==typeof u?s(Function.call,u):u,f&&((m[d]||(m[d]={}))[a]=u))};n.F=1,n.G=2,n.S=4,n.P=8,n.B=16,n.W=32,e.exports=n},79:function(e,t){var r=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},81:function(e,t,r){var o=r(82);e.exports=function(e,t,r){if(o(e),void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,o){return e.call(t,r,o)};case 3:return function(r,o,i){return e.call(t,r,o,i)}}return function(){return e.apply(t,arguments)}}},82:function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},83:function(e,t,r){var o=r(84),i=r(85),s=r(87);e.exports=r(89)(function(){var e=Object.assign,t={},r={},o=Symbol(),i="abcdefghijklmnopqrst";return t[o]=7,i.split("").forEach(function(e){r[e]=e}),7!=e({},t)[o]||Object.keys(e({},r)).join("")!=i})?function(e,t){for(var r=i(e),d=arguments,n=d.length,a=1,c=o.getKeys,u=o.getSymbols,l=o.isEnum;n>a;)for(var p,v=s(d[a++]),f=u?c(v).concat(u(v)):c(v),g=f.length,h=0;g>h;)l.call(v,p=f[h++])&&(r[p]=v[p]);return r}:Object.assign},84:function(e,t){var r=Object;e.exports={create:r.create,getProto:r.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:r.getOwnPropertyDescriptor,setDesc:r.defineProperty,setDescs:r.defineProperties,getKeys:r.keys,getNames:r.getOwnPropertyNames,getSymbols:r.getOwnPropertySymbols,each:[].forEach}},85:function(e,t,r){var o=r(86);e.exports=function(e){return Object(o(e))}},86:function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},87:function(e,t,r){var o=r(88);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==o(e)?e.split(""):Object(e)}},88:function(e,t){var r={}.toString;e.exports=function(e){return r.call(e).slice(8,-1)}},89:function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},273:function(e,t,r){var o,i;o=r(274),i=r(275),e.exports=o||{},e.exports.__esModule&&(e.exports=e.exports["default"]),i&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=i)},274:function(e,t,r){(function(e,o){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var s=r(240),d=i(s),n=r(75),a=i(n),c=r(64),u=i(c),l=r(68),p=i(l),v=r(61),f=i(v);r(16);var g=e.extend({name:"createOrder",data:function(){return{model:{orderId:"",receiveName:"",expressId:"",expressCost:"",goodList:[],price:""},good:{id:"",name:"",attr:"",amount:0},attrList:[],loading:{create:!1},add:!1}},ready:function(){var e=this;o(this.$el).find("#productName").select2({placeholder:"请输入商品名称（必填）",language:p["default"].select2[this.lang],ajax:{url:u["default"].searchGood,data:function(e){return{name:e.term,page:e.page}},dataType:"json",delay:700,processResults:function(e,t){var r=[];return e.forEach(function(e){r.push({id:e.id,text:e.name})}),{results:r}}}}).on("select2:select",function(t){var r=t.params.data;r&&(e.good.id=r.id,e.good.name=r.text,e.fetchAttrs())}),o(this.$el).find("#productAttr").select2({multiple:!0,placeholder:"请选择商品属性",language:p["default"].select2[this.lang]}),this.$watch("good.id",this.changeSelect)},watch:{attrList:function(){o(this.$el).find("#productAttr").trigger("change")}},methods:{remove:function(e){this.model.goodList.splice(e,1)},changeSelect:function(){o(this.$el).find("#productName").trigger("change")},addGood:function(){this.good.attr=o(this.$el).find("#productAttr").val()||[];var e=(0,a["default"])({},this.good);return this.good.id&&this.good.name?this.good.amount?(this.reset(),this.model.goodList.push(e),void(this.add=!this.add)):void this.alert({show:!0,msg:"请输入商品数量",type:"success"}):void this.alert({show:!0,msg:"请输入商品名称",type:"success"})},fetchAttrs:function(e){var t=this;o.ajax({url:u["default"].goodsAttrs,data:{good_id:this.good.id},success:function(r){t.attrList=r,e&&"function"==typeof e&&e()},error:function(){t.attrList=[]}})},reset:function(e){var t=e?this.good.id:"",r=e?this.good.name:"";this.good={id:t,name:r,attr:[],amount:0},this.attrList=[],this.$resetValidation()},createOrder:function(){var e=this;e.$validate(!0),e.$v.invalid||e.loading.create||(e.loading.create=!e.loading.create,o.ajax({url:u["default"].createOrder,type:"post",data:(0,d["default"])(e.model),success:function(t){e.alert({show:!0,msg:"添加成功",type:"success"}),e.resetOrder()},error:function(t){e.alert({show:!0,msg:t.responseText||"添加订单失败",type:"error"})}}).always(function(){e.loading.create=!e.loading.create}))},resetOrder:function(){this.model={orderId:"",receiveName:"",expressId:"",expressCost:"",goodList:[],price:""},this.$resetValidation()}},vuex:{getters:{lang:function(e){return e.lang}},actions:{alert:f["default"].alert}}});t["default"]=g}).call(t,r(10),r(9))},275:function(e,t){e.exports='<div class="panel panel-primary create-order"> <div class=panel-heading>创建订单</div> <div class=panel-body> <validator name=v> <div class=input-group> <span class=input-group-addon>订单号：</span> <input id=orderId type=text class=form-control placeholder=请输入订单号 aria-describedby=orderId v-model=model.orderId v-validate:order-id="{required:true, posInt: true}" :class="{\'red-border\': $v.orderId && $v.orderId.touched && $v.orderId.invalid}" number> </div> <div class="input-group error-msg" v-if="$v.orderId.touched && $v.orderId.invalid"> <div v-if=$v.orderId.required class=red-color>订单号不能为空</div> <div v-if="!$v.orderId.required && $v.orderId.posInt" class=red-color>订单号只能为正整数</div> </div> <div class=input-group> <span class=input-group-addon>收货人：</span> <input id=receiveName type=text class=form-control placeholder=请输入收货人 aria-describedby=receiveName v-model=model.receiveName v-validate:receive-name={required:true} :class="{\'red-border\': $v.receiveName && $v.receiveName.touched && $v.receiveName.invalid}"> </div> <div class="input-group error-msg" v-if="$v.receiveName.touched && $v.receiveName.invalid"> <div v-if=$v.receiveName.required class=red-color>收货人不能为空</div> </div> <div class=input-group> <span class=input-group-addon>订单价格</span> <input id=price type=text class=form-control placeholder=请输入订单价格 aria-describedby=price v-model=model.price v-validate:price={required:true} :class="{\'red-border\': $v.price && $v.price.touched && $v.price.invalid}" number> </div> <div class="input-group error-msg" v-if="$v.price.touched && $v.price.invalid"> <div v-if=$v.price.required class=red-color>订单号不能为空</div> </div> <div class=input-group> <span class=input-group-addon>快递单号</span> <input id=expressId type=text class=form-control placeholder=请输入快递单号 aria-describedby=expressId v-model=model.expressId v-validate:express-id="{required:true, posInt: true}" :class="{\'red-border\': $v.expressId && $v.expressId.touched && $v.expressId.invalid}" number> </div> <div class="input-group error-msg" v-if="$v.expressId.touched && $v.expressId.invalid"> <div v-if=$v.expressId.required class=red-color>快递单号不能为空</div> <div v-if="!$v.expressId.required && $v.expressId.posInt" class=red-color>快递单号只能为正整数</div> </div> <div class=input-group> <span class=input-group-addon>快递费：</span> <input id=expressCost type=text class=form-control placeholder=请输入快递费 aria-describedby=expressCost v-model=model.expressCost v-validate:express-cost="{required:true, posInt: true}" :class="{\'red-border\': $v.expressCost && $v.expressCost.touched && $v.expressCost.invalid}" number> </div> <div class="input-group error-msg" v-if="$v.expressCost.touched && $v.expressCost.invalid"> <div v-if=$v.expressCost.required class=red-color>快递费不能为空</div> <div v-if="!$v.expressCost.required && $v.expressCost.posInt" class=red-color>快递费只能为正整数</div> </div> <div class=good-list v-if="model.goodList.length > 0"> <table class=table> <thead> <tr> <th>商品名称</th> <th>商品属性</th> <th>商品数量</th> <th>操作</th> </tr> </thead> <tbody> <tr class=item v-for="good in model.goodList"> <td>{{good.name}}</td> <td>{{good.attr.join(\',\') | remove-whitespace}}</td> <td> {{good.amount}} </td> <td><i class="fa fa-trash" aria-hidden=true @click=remove($index)></i> </td> </tr> </tbody> </table> </div> <div class=right v-show=!add><a href=javascript:void(0) @click="add=!add">+添加商品</a></div> <div v-show=add class=addArea> <div class=input-group> <span class=input-group-addon>商品名称</span> <div class=select2Div> <select id=productName style="width: 100%" v-model=good.id> </select> </div> </div> <div class=input-group> <span class=input-group-addon>商品属性</span> <div class=select2Div> <select id=productAttr style="width: 100%"> <option v-for="attr in attrList" :value=attr.attr>{{attr.attr}}</option> </select> </div> </div> <div class=input-group> <span class=input-group-addon>商品数量</span> <input id=productAmount type=text class=form-control placeholder=请输入商品数量 aria-describedby=productAmount v-model=good.amount number> </div> <div class="float-right btns"> <button type=button class="btn btn-primary" @click=addGood>保存</button> <button type=button class="btn btn-danger" @click="add = !add">完成</button> </div> <div class=clearfix></div> </div> </validator> <div class="float-right btns"> <button type=button class="btn btn-primary" @click=createOrder>创建</button> <button type=button class="btn btn-danger" @click=reset>取消</button> </div> </div> </div>'}});
//# sourceMappingURL=15.724bca1302ac8d32bcba.js.map